{"ast":null,"code":"var _jsxFileName = \"/home/nicole/Desktop/1.Kenzie/Q2/3.SP3/gestao-de-habitos/src/Providers/Goals/index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useState } from \"react\";\nimport api from \"../../services/api\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const GoalsContext = /*#__PURE__*/createContext();\nexport const GoalsProvider = ({\n  children\n}) => {\n  _s();\n\n  const [groupGoals, setGroupGoals] = useState([]);\n  const [specificGoal, setSpecificGoal] = useState([]);\n  const [token] = useState(JSON.parse(localStorage.getItem(\"Habits:token\")) || \"\");\n\n  const getOneGoal = ({\n    id\n  }) => {\n    api.get(`/goals/${id}/`).then(res => setSpecificGoal(res)).catch(e => console.log(e));\n  };\n\n  const getGroupGoals = ({\n    group_id\n  }) => {\n    api.get(`/goals/?group=${group_id}`).then(res => setGroupGoals(res)).catch(e => console.log(e));\n  };\n\n  const addNewGroupGoal = (data, group_id) => {\n    const {\n      title,\n      difficulty\n    } = data;\n    api.post(\"/goals/\", {\n      title: title,\n      difficulty: difficulty,\n      how_much_achieved: 0,\n      group: group_id\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(_ => toast.success(\"Meta criada com sucesso\"));\n  };\n\n  const updateGroupGoal = ({\n    goal_id,\n    how_much_achieved,\n    achieved\n  }) => {\n    api.patch(`/goals/${goal_id}/`, {\n      how_much_achieved: how_much_achieved,\n      achieved: achieved\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(_ => toast.success(\"Objetivo atualizado\"));\n  };\n\n  const deleteGroupGoal = ({\n    goal_id\n  }) => {\n    api.delete(`/goals/${goal_id}/`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(_ => toast.success(\"Objetivo deletado\"));\n  };\n\n  return /*#__PURE__*/_jsxDEV(GoalsContext.Provider, {\n    value: {\n      groupGoals,\n      specificGoal,\n      addNewGroupGoal,\n      getOneGoal,\n      getGroupGoals,\n      updateGroupGoal,\n      deleteGroupGoal\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GoalsProvider, \"NYzBsh6NklJVvVeGDLWDtHlmPow=\");\n\n_c = GoalsProvider;\nexport const useGoals = () => {\n  _s2();\n\n  return useContext(GoalsContext);\n};\n\n_s2(useGoals, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"GoalsProvider\");","map":{"version":3,"sources":["/home/nicole/Desktop/1.Kenzie/Q2/3.SP3/gestao-de-habitos/src/Providers/Goals/index.js"],"names":["createContext","useContext","useState","api","toast","GoalsContext","GoalsProvider","children","groupGoals","setGroupGoals","specificGoal","setSpecificGoal","token","JSON","parse","localStorage","getItem","getOneGoal","id","get","then","res","catch","e","console","log","getGroupGoals","group_id","addNewGroupGoal","data","title","difficulty","post","how_much_achieved","group","headers","Authorization","_","success","updateGroupGoal","goal_id","achieved","patch","deleteGroupGoal","delete","useGoals"],"mappings":"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","sourcesContent":["import { createContext, useContext, useState } from \"react\";\nimport api from \"../../services/api\";\nimport { toast } from \"react-toastify\";\n\nexport const GoalsContext = createContext();\n\nexport const GoalsProvider = ({ children }) => {\n  const [groupGoals, setGroupGoals] = useState([]);\n  const [specificGoal, setSpecificGoal] = useState([]);\n  const [token] = useState(\n    JSON.parse(localStorage.getItem(\"Habits:token\")) || \"\"\n  );\n\n  const getOneGoal = ({ id }) => {\n    api\n      .get(`/goals/${id}/`)\n      .then((res) => setSpecificGoal(res))\n      .catch((e) => console.log(e));\n  };\n\n  const getGroupGoals = ({ group_id }) => {\n    api\n      .get(`/goals/?group=${group_id}`)\n      .then((res) => setGroupGoals(res))\n      .catch((e) => console.log(e));\n  };\n\n  const addNewGroupGoal = (data, group_id) => {\n    const { title, difficulty } = data;\n    api\n      .post(\n        \"/goals/\",\n        {\n          title: title,\n          difficulty: difficulty,\n          how_much_achieved: 0,\n          group: group_id,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      )\n      .then((_) => toast.success(\"Meta criada com sucesso\"));\n  };\n\n  const updateGroupGoal = ({ goal_id, how_much_achieved, achieved }) => {\n    api\n      .patch(\n        `/goals/${goal_id}/`,\n        {\n          how_much_achieved: how_much_achieved,\n          achieved: achieved,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      )\n      .then((_) => toast.success(\"Objetivo atualizado\"));\n  };\n\n  const deleteGroupGoal = ({ goal_id }) => {\n    api\n      .delete(`/goals/${goal_id}/`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      })\n      .then((_) => toast.success(\"Objetivo deletado\"));\n  };\n\n  return (\n    <GoalsContext.Provider\n      value={{\n        groupGoals,\n        specificGoal,\n        addNewGroupGoal,\n        getOneGoal,\n        getGroupGoals,\n        updateGroupGoal,\n        deleteGroupGoal,\n      }}\n    >\n      {children}\n    </GoalsContext.Provider>\n  );\n};\n\nexport const useGoals = () => useContext(GoalsContext);\n"]},"metadata":{},"sourceType":"module"}