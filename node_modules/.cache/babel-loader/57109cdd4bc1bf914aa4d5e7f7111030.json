{"ast":null,"code":"var _jsxFileName = \"/home/nicole/Desktop/1.Kenzie/Q2/3.SP3/gestao-de-habitos/src/Providers/Groups/index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useState } from \"react\";\nimport api from \"../../services/api\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const GroupsContext = /*#__PURE__*/createContext();\nexport const GroupsProvider = ({\n  children\n}) => {\n  _s();\n\n  const [groups, setGroups] = useState([]);\n  const [subscriptions, setSubscriptions] = useState([]);\n  const [token] = useState(JSON.parse(localStorage.getItem(\"Habits:token\")) || \"\");\n  const [loadingGroups, setLoadingGroups] = useState(true);\n  const [loadingSubs, setLoadingSubs] = useState(true);\n  useEffect(() => {\n    //get dos grupos\n    if (token !== \"\") {\n      api.get(\"/groups/?category=CORINGA\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(response => {\n        const allGroups = response.data.results;\n        setGroups(allGroups);\n        setLoadingGroups(false);\n      }).catch(err => console.log(err)); //get das inscrições api\n\n      api.get(\"/groups/subscriptions/\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(response => {\n        setSubscriptions(response.data);\n        setLoadingSubs(false);\n      }).catch(err => console.log(err));\n    }\n  }, [token]);\n\n  const addNewGroup = ({\n    name,\n    description,\n    category\n  }) => {\n    api.post(\"/groups/\", {\n      name: name,\n      description: description,\n      category: category\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(GroupsContext.Provider, {\n    value: {\n      groups,\n      subscriptions,\n      addNewGroup,\n      loadingGroups,\n      loadingSubs\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GroupsProvider, \"0y3xDrLnC5K/GCj7b4ZoEYB+KQY=\");\n\n_c = GroupsProvider;\nexport const useGroups = () => {\n  _s2();\n\n  return useContext(GroupsContext);\n};\n\n_s2(useGroups, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"GroupsProvider\");","map":{"version":3,"sources":["/home/nicole/Desktop/1.Kenzie/Q2/3.SP3/gestao-de-habitos/src/Providers/Groups/index.js"],"names":["createContext","useContext","useState","api","useEffect","GroupsContext","GroupsProvider","children","groups","setGroups","subscriptions","setSubscriptions","token","JSON","parse","localStorage","getItem","loadingGroups","setLoadingGroups","loadingSubs","setLoadingSubs","get","headers","Authorization","then","response","allGroups","data","results","catch","err","console","log","addNewGroup","name","description","category","post","useGroups"],"mappings":";;;;AAAA,SAASA,aAAT,EAAwBC,UAAxB,EAAoCC,QAApC,QAAoD,OAApD;AACA,OAAOC,GAAP,MAAgB,oBAAhB;AACA,SAASC,SAAT,QAA0B,OAA1B;;AAEA,OAAO,MAAMC,aAAa,gBAAGL,aAAa,EAAnC;AAEP,OAAO,MAAMM,cAAc,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AAC9C,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACQ,aAAD,EAAgBC,gBAAhB,IAAoCT,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACU,KAAD,IAAUV,QAAQ,CACtBW,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAX,KAAoD,EAD9B,CAAxB;AAGA,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoChB,QAAQ,CAAC,IAAD,CAAlD;AACA,QAAM,CAACiB,WAAD,EAAcC,cAAd,IAAgClB,QAAQ,CAAC,IAAD,CAA9C;AAEAE,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,QAAIQ,KAAK,KAAK,EAAd,EAAkB;AAChBT,MAAAA,GAAG,CACAkB,GADH,CACO,2BADP,EACoC;AAChCC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,UAASX,KAAM;AADxB;AADuB,OADpC,EAMGY,IANH,CAMSC,QAAD,IAAc;AAClB,cAAMC,SAAS,GAAGD,QAAQ,CAACE,IAAT,CAAcC,OAAhC;AACAnB,QAAAA,SAAS,CAACiB,SAAD,CAAT;AACAR,QAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACD,OAVH,EAWGW,KAXH,CAWUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAXlB,EADgB,CAchB;;AACA3B,MAAAA,GAAG,CACAkB,GADH,CACO,wBADP,EACiC;AAC7BC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,EAAG,UAASX,KAAM;AADxB;AADoB,OADjC,EAMGY,IANH,CAMSC,QAAD,IAAc;AAClBd,QAAAA,gBAAgB,CAACc,QAAQ,CAACE,IAAV,CAAhB;AACAP,QAAAA,cAAc,CAAC,KAAD,CAAd;AACD,OATH,EAUGS,KAVH,CAUUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAVlB;AAWD;AACF,GA7BQ,EA6BN,CAAClB,KAAD,CA7BM,CAAT;;AA+BA,QAAMqB,WAAW,GAAG,CAAC;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,WAAR;AAAqBC,IAAAA;AAArB,GAAD,KAAqC;AACvDjC,IAAAA,GAAG,CAACkC,IAAJ,CACE,UADF,EAEE;AACEH,MAAAA,IAAI,EAAEA,IADR;AAEEC,MAAAA,WAAW,EAAEA,WAFf;AAGEC,MAAAA,QAAQ,EAAEA;AAHZ,KAFF,EAOE;AACEd,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAG,UAASX,KAAM;AADxB;AADX,KAPF;AAaD,GAdD;;AAgBA,sBACE,QAAC,aAAD,CAAe,QAAf;AACE,IAAA,KAAK,EAAE;AAAEJ,MAAAA,MAAF;AAAUE,MAAAA,aAAV;AAAyBuB,MAAAA,WAAzB;AAAsChB,MAAAA,aAAtC;AAAqDE,MAAAA;AAArD,KADT;AAAA,cAGGZ;AAHH;AAAA;AAAA;AAAA;AAAA,UADF;AAOD,CA/DM;;GAAMD,c;;KAAAA,c;AAiEb,OAAO,MAAMgC,SAAS,GAAG;AAAA;;AAAA,SAAMrC,UAAU,CAACI,aAAD,CAAhB;AAAA,CAAlB;;IAAMiC,S","sourcesContent":["import { createContext, useContext, useState } from \"react\";\nimport api from \"../../services/api\";\nimport { useEffect } from \"react\";\n\nexport const GroupsContext = createContext();\n\nexport const GroupsProvider = ({ children }) => {\n  const [groups, setGroups] = useState([]);\n  const [subscriptions, setSubscriptions] = useState([]);\n  const [token] = useState(\n    JSON.parse(localStorage.getItem(\"Habits:token\")) || \"\"\n  );\n  const [loadingGroups, setLoadingGroups] = useState(true);\n  const [loadingSubs, setLoadingSubs] = useState(true);\n\n  useEffect(() => {\n    //get dos grupos\n    if (token !== \"\") {\n      api\n        .get(\"/groups/?category=CORINGA\", {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        })\n        .then((response) => {\n          const allGroups = response.data.results;\n          setGroups(allGroups);\n          setLoadingGroups(false);\n        })\n        .catch((err) => console.log(err));\n\n      //get das inscrições api\n      api\n        .get(\"/groups/subscriptions/\", {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        })\n        .then((response) => {\n          setSubscriptions(response.data);\n          setLoadingSubs(false);\n        })\n        .catch((err) => console.log(err));\n    }\n  }, [token]);\n\n  const addNewGroup = ({ name, description, category }) => {\n    api.post(\n      \"/groups/\",\n      {\n        name: name,\n        description: description,\n        category: category,\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }\n    );\n  };\n\n  return (\n    <GroupsContext.Provider\n      value={{ groups, subscriptions, addNewGroup, loadingGroups, loadingSubs }}\n    >\n      {children}\n    </GroupsContext.Provider>\n  );\n};\n\nexport const useGroups = () => useContext(GroupsContext);\n"]},"metadata":{},"sourceType":"module"}