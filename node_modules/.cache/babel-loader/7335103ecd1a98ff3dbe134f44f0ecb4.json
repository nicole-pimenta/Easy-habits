{"ast":null,"code":"var _jsxFileName = \"/home/nicole/Desktop/1.Kenzie/Q2/3.SP3/gestao-de-habitos/src/Providers/Goals/index.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useState } from \"react\";\nimport api from \"../../services/api\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const GoalsContext = /*#__PURE__*/createContext();\nexport const GoalsProvider = ({\n  children\n}) => {\n  _s();\n\n  const [groupGoals, setGroupGoals] = useState([]);\n  const [specificGoal, setSpecificGoal] = useState([]);\n  const [token] = useState(JSON.parse(localStorage.getItem(\"Habits:token\")) || \"\");\n\n  const getOneGoal = ({\n    id\n  }) => {\n    api.get(`/goals/${id}/`).then(res => setSpecificGoal(res)).catch(e => console.log(e));\n  };\n\n  const getGroupGoals = ({\n    group_id\n  }) => {\n    api.get(`/goals/?group=${group_id}`).then(res => setGroupGoals(res)).catch(e => console.log(e));\n  };\n\n  const addNewGroupGoal = ({\n    title,\n    difficulty,\n    group_id\n  }) => {\n    api.post(\"/groups/\", {\n      title: title,\n      difficulty: difficulty,\n      how_much_achieved: 0,\n      group: group_id\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(_ => toast.success('Novo Objetivo criado'));\n  };\n\n  const updateGroupGoal = ({\n    goal_id,\n    how_much_achieved,\n    achieved\n  }) => {\n    api.patch(`/goals/${goal_id}/`, {\n      how_much_achieved: how_much_achieved,\n      achieved: achieved\n    }, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(_ => toast.success('Objetivo atualizado'));\n  };\n\n  const deleteGroupGoal = ({\n    goal_id\n  }) => {\n    api.delete(`/goals/${goal_id}/`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(_ => toast.success('Objetivo deletado'));\n  };\n\n  return /*#__PURE__*/_jsxDEV(GoalsContext.Provider, {\n    value: {\n      groupGoals,\n      specificGoal,\n      addNewGroupGoal,\n      getOneGoal,\n      getGroupGoals,\n      updateGroupGoal,\n      deleteGroupGoal\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GoalsProvider, \"NYzBsh6NklJVvVeGDLWDtHlmPow=\");\n\n_c = GoalsProvider;\nexport const useGoals = () => {\n  _s2();\n\n  return useContext(GoalsContext);\n};\n\n_s2(useGoals, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"GoalsProvider\");","map":{"version":3,"sources":["/home/nicole/Desktop/1.Kenzie/Q2/3.SP3/gestao-de-habitos/src/Providers/Goals/index.js"],"names":["createContext","useContext","useState","api","toast","GoalsContext","GoalsProvider","children","groupGoals","setGroupGoals","specificGoal","setSpecificGoal","token","JSON","parse","localStorage","getItem","getOneGoal","id","get","then","res","catch","e","console","log","getGroupGoals","group_id","addNewGroupGoal","title","difficulty","post","how_much_achieved","group","headers","Authorization","_","success","updateGroupGoal","goal_id","achieved","patch","deleteGroupGoal","delete","useGoals"],"mappings":"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","sourcesContent":["import { createContext, useContext, useState } from \"react\";\nimport api from \"../../services/api\";\nimport { toast } from \"react-toastify\";\n\nexport const GoalsContext = createContext();\n\nexport const GoalsProvider = ({ children }) => {\n\n    const [groupGoals, setGroupGoals] = useState([]);\n    const [specificGoal, setSpecificGoal] = useState([])\n    const [token] = useState(\n        JSON.parse(localStorage.getItem(\"Habits:token\")) || \"\"\n    );\n\n\n    const getOneGoal = ({ id }) => {\n        api.get(\n            `/goals/${id}/`\n        )\n            .then((res) => setSpecificGoal(res))\n            .catch((e) => console.log(e))\n    }\n\n    const getGroupGoals = ({ group_id }) => {\n        api.get(\n            `/goals/?group=${group_id}`\n        )\n            .then((res) => setGroupGoals(res))\n            .catch((e) => console.log(e))\n    }\n\n    const addNewGroupGoal = ({ title, difficulty, group_id }) => {\n        api.post(\n            \"/groups/\",\n            {\n                title: title,\n                difficulty: difficulty,\n                how_much_achieved: 0,\n                group: group_id\n            },\n            {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            }\n        )\n            .then((_) => toast.success('Novo Objetivo criado'))\n    };\n\n    const updateGroupGoal = ({ goal_id, how_much_achieved, achieved }) => {\n        api.patch(\n            `/goals/${goal_id}/`,\n            {\n                how_much_achieved: how_much_achieved,\n                achieved: achieved\n            },\n            {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            }\n        )\n            .then((_) => toast.success('Objetivo atualizado'))\n    };\n\n    const deleteGroupGoal = ({ goal_id }) => {\n        api.delete(\n            `/goals/${goal_id}/`,\n            {\n                headers: {\n                    Authorization: `Bearer ${token}`,\n                },\n            }\n        )\n            .then((_) => toast.success('Objetivo deletado'))\n    };\n\n    return (\n        <GoalsContext.Provider\n            value={{ groupGoals, specificGoal, addNewGroupGoal, getOneGoal, getGroupGoals, updateGroupGoal, deleteGroupGoal }}\n        >\n            {children}\n        </GoalsContext.Provider>\n    );\n};\n\nexport const useGoals = () => useContext(GoalsContext);"]},"metadata":{},"sourceType":"module"}